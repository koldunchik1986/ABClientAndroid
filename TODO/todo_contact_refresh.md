# Задача: Обновление списка контактов при открытии вкладки

## Проблема

Список контактов не обновляется автоматически при переключении на вкладку "Контакты". Данные о контактах (статус онлайн, местоположение и т.д.) загружаются только один раз при запуске приложения. Периодическая проверка `Pulse` обновляет только тех, кто уже в сети, и с задержкой.

## План решения

Реализовано автоматическое и ручное обновление списка контактов в Android приложении.

1.  **Автоматическое обновление:**
    *   В `ContactsActivity.java` добавлен метод `onResume`, который вызывается каждый раз, когда активити становится видимым.
    *   В `onResume` вызывается новый метод `refreshContacts()`.
    *   `refreshContacts()` инициирует `ContactsManager.refreshAllContacts()`, который в фоновом режиме обновляет все контакты с сервера.
    *   По завершении обновления, список в `ContactsActivity` перезагружается.

2.  **Ручное обновление:**
    *   В меню `contacts_menu.xml` добавлена кнопка "Обновить".
    *   В `ContactsActivity.java` в методе `onOptionsItemSelected` добавлен обработчик нажатия на эту кнопку, который также вызывает `refreshContacts()`.

## Задачи

- [x] **1. Реализовать метод `refreshAllContacts` в `ContactsManager.java`** (метод уже существовал)
- [x] **2. Модифицировать `ContactsActivity.java` для вызова `refreshAllContacts`**
- [x] **3. Добавить кнопку ручного обновления**