# План портирования CounterJs.cs

Файл `CounterJs.cs` является частью `PostFilter` и предназначен для блокировки сторонних скриптов-счетчиков.

## Функциональность в C#

Этот фильтр не модифицирует, а **полностью заменяет** содержимое запрашиваемого JS-файла. Вместо оригинального скрипта от liveinternet, top.mail.ru и т.п., он возвращает одну единственную строку JavaScript:

```javascript
function counterview(referr){}
```

**Назначение:**

Это классический блокировщик рекламы и трекеров. Его цель — предотвратить загрузку и выполнение любых скриптов для сбора статистики. Это дает два преимущества:

1.  **Ускорение загрузки**: Не тратятся ресурсы на скачивание и выполнение ненужных скриптов.
2.  **Приватность**: Данные о посещении страниц не уходят на сторонние серверы.

## План портирования в Android

Эту полезную функциональность необходимо сохранить.

1.  **Создать `CounterJs.java`**: В пакете `ru.neverlands.abclient.postfilter`.
2.  **Реализовать метод `process`**:
    *   Метод будет статическим и не будет принимать аргументов.
    *   Он должен возвращать `byte[]` от строки `"function counterview(referr){}"`, закодированной в `windows-1251`.
3.  **Интегрировать в `Filter.java`**:
    *   Необходимо найти в C#-версии `Filter.cs` условия, по которым вызывается `CounterJs()`. Скорее всего, это будет проверка URL на содержание доменов типа `liveinternet.ru`, `top.mail.ru`, `hotlog.ru`.
    *   Добавить аналогичный блок `if` в `process` метод в `Filter.java`, который будет вызывать `CounterJs.process()`.
