
### 1. План портирования MapPathNode.cs

Файл `MapPathNode.cs` представляет собой узел в дереве поиска пути. Это ключевая структура данных для алгоритмов, реализованных в `MapPath.cs`.

### 2. Функциональность в C#

- **Назначение:** Хранить состояние одного конкретного пути, исследуемого алгоритмом в данный момент.
- **Свойства:**
    - `CellNumbers`: Массив ID ячеек, составляющих путь от старта до текущего узла.
    - `Costs`: Массив совокупных стоимостей на каждом шаге пути.
    - `HasTeleport`: Флаг, использовался ли телепорт на этом пути.
    - `BotLevel`: Максимальный уровень бота, встреченного на пути.
    - `Jumps`: Количество обычных переходов.
- **Методы:**
    - `AddCell()`: Фабричный метод. Создает и возвращает *новый* узел, который является продолжением текущего пути на одну ячейку. Такой иммутабельный подход (создание новых объектов вместо изменения старых) типичен для алгоритмов поиска.
    - `CompareTo()`: Реализует `IComparable`. Определяет, какой из двух путей "лучше". Это ядро эвристики. Пути сравниваются по следующему приоритету:
        1.  Меньшая `Cost` - лучше.
        2.  Меньшая длина пути - лучше.
        3.  Меньший `BotLevel` - лучше.
        4.  Путь без телепорта - лучше.

### 3. Решение для портирования на Android

Этот класс тесно связан с ручной реализацией алгоритма поиска пути. При переходе на использование стандартной библиотеки, такой как `JGraphT`, этот класс становится ненужным.

Библиотека `JGraphT` имеет свои собственные внутренние структуры для представления узлов и путей во время работы алгоритма. На выходе, после завершения поиска, `JGraphT` возвращает объект `GraphPath`, который содержит итоговый путь (список вершин) и его общую стоимость (вес).

### 4. План реализации

1.  **Не портировать класс:** Класс `MapPathNode` не следует портировать.
2.  **Использовать результаты `JGraphT`:**
    - После выполнения поиска пути с помощью `JGraphT`, вы получите объект `GraphPath`.
    - На основе этого объекта следует создать свой, более простой класс `MapPath`, который будет хранить только финальный результат (список ячеек и итоговую стоимость) и использоваться в остальном приложении.
    - Логика сравнения путей (эвристика из `CompareTo`) должна быть перенесена в конфигурацию самого алгоритма `JGraphT` (через веса ребер и, возможно, кастомную эвристику для A*).

- [ ] Удалить `MapPathNode` из плана портирования.
- [ ] Сконфигурировать алгоритм `JGraphT` так, чтобы он учитывал стоимость, длину, ботов и телепорты при поиске пути.
- [ ] Создать итоговый класс `MapPath` на основе `GraphPath` от `JGraphT`.
