# План портирования SerialKey.cs

Файл `SerialKey.cs` - это статический класс для генерации и валидации серийных ключей.

## Функциональность в C#

*   **Назначение**: Реализует логику, связанную с лицензированием ПО через серийные ключи.
*   **Активная логика (`Newyork` method)**:
    *   Генерирует серийный ключ на основе ника и даты истечения.
    *   Процесс: Создается строка `((++НИК***ГГГГММДД++))`, вычисляется ее MD5-хеш, а затем байты хеша преобразуются в строку с помощью специального 16-символьного алфавита (`"ОЕАИНТСРВЛКМПУЯГ"`).
*   **Закомментированная логика**: Содержит более сложную систему, основанную на симметричном шифровании `Rijndael` (AES) для создания и проверки лицензий, которые содержат ник, дату создания и срок действия.

## Проверка на существующую реализацию в Android

- **Результат:** Функциональность не реализована. В Android-проекте нет этого класса или подобной логики.

## Решение для портирования на Android

Необходимо портировать активный метод `Newyork`, чтобы иметь возможность генерировать ключи, совместимые с ПК-версией. Закомментированную логику следует игнорировать, пока не поступит явного запроса на ее реализацию.

## План реализации

- [ ] **Создать файл `SerialKey.java`** в пакете `ru.neverlands.abclient.utils`.

- [ ] **Портировать метод `newyork(String nick, Date expiredDate)`**:
    - [ ] Создать статический метод.
    - [ ] Сформировать строку в нужном формате, используя `String.format` и `SimpleDateFormat` для даты (`"yyyyMMdd"`).
    - [ ] Вычислить MD5-хеш от байтов этой строки, используя `java.security.MessageDigest`.
    - [ ] Перенести 16-символьный алфавит как `private static final char[]`.
    - [ ] Реализовать логику преобразования байтов хеша в итоговую строку с дефисами.

- [ ] **Обновить `todo_Helpers.md`**, отметив `SerialKey.cs` как проанализированный.
