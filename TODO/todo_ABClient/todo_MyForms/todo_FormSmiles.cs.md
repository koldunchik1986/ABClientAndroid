
### 1. План портирования FormSmiles.cs

Файл `FormSmiles.cs` реализует окно для выбора и вставки смайликов в чат.

### 2. Функциональность в C#

- **UI:** Окно с вкладками (`TabControl`), на каждой из которых находится панель (`FlowLayoutPanel`), динамически заполняемая кнопками со смайликами.
- **Логика:**
    - При создании формы, метод `FillSmiles` программно создает множество кнопок.
    - Каждой кнопке в качестве изображения присваивается картинка смайлика из ресурсов проекта, а в `Tag` - его код (например, "001").
    - При нажатии на любую кнопку-смайлик, ее код вставляется в текстовое поле в формате `:код:` (например, `:001:`).
    - Пользователь может нажать несколько смайликов, формируя строку, которая затем вставляется в чат.

### 3. Решение для портирования на Android

Это классический "выбор смайлов/стикеров". Его следует реализовать с использованием современных компонентов Android.

- **UI-контейнер:** `BottomSheetDialogFragment` - выезжающая снизу панель, является идеальным решением для такого функционала.
- **Навигация:** `TabLayout` + `ViewPager2` для переключения между категориями смайликов.
- **Отображение сетки:** `RecyclerView` с `GridLayoutManager` для эффективного отображения сетки смайликов.
- **Данные:** Изображения смайликов должны быть перенесены в папку `res/drawable`.

### 4. План реализации

1.  **Перенести ресурсы:**
    - Все изображения смайликов из `Resources` C# проекта перенести в `res/drawable` Android проекта.
2.  **Создать модель данных:**
    - Создать `data class Smiley(val code: String, @DrawableRes val drawableId: Int)`.
    - Создать `SmileyRepository`, который будет предоставлять `List<Smiley>` для каждой категории.
3.  **Создать UI:**
    - Создать `layout/bottom_sheet_smiles.xml`.
    - В разметке разместить `TabLayout`, `ViewPager2` и `EditText` для предпросмотра.
    - Создать `layout/fragment_smiley_page.xml`, содержащий `RecyclerView`.
4.  **Создать адаптеры:**
    - Создать `FragmentStateAdapter` для `ViewPager2`, который будет создавать новый `SmileyPageFragment` для каждой категории.
    - Создать `RecyclerView.Adapter` для отображения смайликов в сетке.
5.  **Реализовать логику:**
    - `SmileyPageFragment` будет получать список смайликов и устанавливать его в свой `RecyclerView.Adapter`.
    - `OnClickListener` для элемента `RecyclerView` будет сообщать `BottomSheetDialogFragment` о выборе смайлика.
    - `BottomSheetDialogFragment` будет добавлять код смайлика в `EditText`.
    - Кнопка "Вставить" будет возвращать итоговую строку в поле ввода основного чата.

- [ ] Перенести все ассеты смайликов в `res/drawable`.
- [ ] Создать `SmileyRepository` для предоставления данных о смайликах.
- [ ] Создать `BottomSheetDialogFragment` с `TabLayout` и `ViewPager2`.
- [ ] Создать `SmileyPageFragment` с `RecyclerView`.
- [ ] Реализовать адаптеры для `ViewPager2` и `RecyclerView`.
