# План портирования ArenaJs.cs

Файл `ArenaJs.cs` - это часть `partial` класса `Filter`, отвечающая за модификацию скрипта арены.

## Функциональность в C#

*   **Назначение**: Модифицировать на лету JavaScript-файл `arena_v04.js` перед отправкой его в браузер.
*   **Логика**: Загружает содержимое `arena_v04.js` из ресурсов. Если в профиле пользователя включена опция `ChatKeepMoving`, то из скрипта удаляется вызов функции `top.clr_chat();`, чтобы предотвратить очистку чата.

## Проверка на существующую реализацию в Android

- **Результат:** Функциональность полностью реализована.
- **Объяснение**:
    1.  В проекте существует класс `app/src/main/java/ru/neverlands/abclient/postfilter/ArenaJs.java`.
    2.  Метод `process()` в этом классе полностью повторяет логику C#-версии: он читает `arena_v04.js` из `assets`, проверяет флаг `AppVars.Profile.ChatKeepMoving` и выполняет ту же самую замену строки.

## Решение для портирования на Android

Никаких действий не требуется.

## План реализации

- [x] **Задача решена.** Функциональность уже существует.
- [ ] **Обновить `todo_PostFilter.md`**, отметив `ArenaJs.cs` как проанализированный и реализованный (`[+]`).