
### 1. План портирования MainPhpFast.cs

Файл `MainPhpFast.cs` является центральным диспетчером для выполнения "быстрых действий" - автоматического использования различных предметов, свитков и способностей.

### 2. Функциональность в C#

- **Назначение:** Обеспечить единую точку входа для автоматизации множества действий.
- **Логика:**
    1.  Основной метод `MainPhpFast` работает как `switch`.
    2.  Он проверяет `AppVars.FastId` (идентификатор действия, обычно имя файла иконки или название предмета) и `AppVars.FastNick` (цель действия).
    3.  В зависимости от `FastId`, вызывается соответствующий приватный метод (например, `MainPhpFastTeleport`, `MainPhpFastHit`, `MainPhpFastPotion` и т.д.).
    4.  Каждый из этих приватных методов реализует логику для конкретного действия:
        *   Находит в HTML-коде страницы соответствующий предмет или способность (обычно по javascript-функциям `w28_form`, `magicreform`, `abil_svitok` и т.д.).
        *   Извлекает из HTML все необходимые параметры (`vcode`, `wuid`, `wsubid` и т.д.).
        *   Генерирует новую HTML-страницу со скрытой формой, в которую подставляет извлеченные параметры и ник цели (`AppVars.FastNick`).
        *   Добавляет в конец страницы javascript-код для автоматической отправки формы (`document.ff.submit();`).
        *   Возвращает сгенерированную HTML-страницу.

### 3. Решение для портирования на Android

Это ядро движка автоматизации, и оно тесно связано с состоянием C# приложения (`AppVars`). Функциональность должна быть полностью переписана на стороне Android-приложения.

### 4. План реализации

1.  **Создать класс `FastActionManager` в Android:**
    - Будет принимать `FastId` и `FastNick` и управлять выполнением действий.
2.  **Создать парсеры для каждого действия:**
    - Вместо множества приватных методов, можно создать классы-парсеры (например, `TeleportActionParser`, `HitActionParser`), каждый из которых будет отвечать за извлечение параметров для своего типа действия.
3.  **Интеграция с `WebViewClient`:**
    - Когда `FastActionManager`'у дается команда, он определяет нужный парсер по `FastId`.
    - `WebViewClient` передает HTML-код страницы в выбранный парсер.
4.  **Выполнение действия:**
    - Парсер извлекает параметры и возвращает их `FastActionManager`'у.
    - `FastActionManager` формирует и выполняет `POST`-запрос на `main.php` с нужными параметрами.

- [ ] Создать класс `FastActionManager`.
- [ ] Разработать иерархию классов-парсеров для каждого типа быстрого действия.
- [ ] Интегрировать `FastActionManager` с `WebViewClient`.
- [ ] Реализовать логику формирования и выполнения `POST`-запросов.
