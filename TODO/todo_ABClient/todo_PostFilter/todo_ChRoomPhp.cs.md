# План портирования ChRoomPhp.cs

Файл `ChRoomPhp.cs` - это часть `partial` класса `Filter`, отвечающая за обработку страницы комнаты чата.

## Функциональность в C#

*   **Назначение**: Перехватить HTML-содержимое страницы `ch_room.php` и передать его на полную обработку в `RoomManager`.
*   **Логика**: Метод `ChRoomPhp` просто преобразует байты в строку, вызывает `RoomManager.Process(html)` и возвращает результат, преобразованный обратно в байты.

## Проверка на существующую реализацию в Android

- **Результат:** Функциональность не реализована.

## Решение для портирования на Android

Этот класс-фильтр как таковой не нужен. Его роль будет выполнять `WebViewClient`.

## План реализации

- [ ] **Реализовать `RoomManager.java`**: Сначала необходимо портировать `RoomManager`, как описано в `todo_RoomManager.cs.md`.
- [ ] **Интегрировать в `WebViewClient`**:
    - [ ] В `shouldInterceptRequest` (или аналогичном методе) в `WebViewClient` нужно будет добавить условие, которое проверяет, что загружаемый URL - это `ch_room.php`.
    - [ ] Если условие выполняется, тело ответа нужно будет передать в метод `RoomManager.getInstance().process(html)`.
    - [ ] Модифицированный HTML, возвращенный из `RoomManager`, будет использован для создания нового `WebResourceResponse`.

- [x] **Задача решена.** Функциональность этого класса будет поглощена `WebViewClient` и портированным `RoomManager`.
- [ ] **Обновить `todo_PostFilter.md`**, отметив `ChRoomPhp.cs` как проанализированный и не требующий прямого портирования (`[+]`).