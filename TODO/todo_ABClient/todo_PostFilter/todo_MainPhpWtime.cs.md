
### 1. План портирования MainPhpWtime.cs

Файл `MainPhpWtime.cs` представляет собой набор модификаций для страницы `main.php`, когда на ней активен таймер (div `wtime`), указывающий на выполнение какого-либо действия.

### 2. Функциональность в C#

- **Назначение:** Отображать пользователю статус различных фоновых и автоматических процессов клиента.
- **Логика:**
    1.  **Отчет о рыбалке:** Если включена авто-рыбалка, сначала вызывается `MainPhpFishReport` для обработки возможного отчета о рыбалке.
    2.  **Статус "Действие выполняется":** Заменяет пустой div `wtime` на сообщение "Выполняется действие...".
    3.  **Расширенная карта:** Если включена опция в профиле, и для текущей локации есть карта, в страницу внедряется HTML-код миникарты.
    4.  **Проверка привязанных вещей:** Инициирует фоновую проверку количества привязанных вещей.
    5.  **Статус авто-навигации:** Если активен авто-навигатор, в страницу добавляется сообщение с пунктом назначения и количеством оставшихся переходов.
    6.  **Статус авто-питья:** Если активно авто-питье, в страницу добавляется соответствующее сообщение.

### 3. Решение для портирования на Android

Эта функциональность отвечает за отображение статуса, и ее не следует реализовывать путем модификации HTML. Вместо этого, в Android-приложении должен быть специальный нативный UI-компонент (например, статус-бар или информационная панель), который будет отображать всю эту информацию.

### 4. План реализации

1.  **Создать `StatusManager` в Android:**
    - Этот класс будет агрегировать информацию о состоянии всех фоновых процессов (авто-движение, авто-питье, авто-рыбалка и т.д.).
2.  **Создать нативный UI для статуса:**
    - Разработать `View` (например, над `WebView`), которая будет отображать иконки и текстовые сообщения о текущих активных процессах.
3.  **Интеграция:**
    - Все менеджеры (`AutoMoveManager`, `AutoDrinkManager` и т.д.) должны сообщать о своем состоянии в `StatusManager`.
    - `StatusManager` будет обновлять UI-компонент статуса.
4.  **Миникарта:**
    - Функциональность миникарты должна быть реализована как отдельный, возможно, плавающий или выдвигающийся нативный компонент, а не внедряться в `WebView`.

- [ ] Создать класс `StatusManager`.
- [ ] Разработать нативный UI-компонент для отображения статуса.
- [ ] Интегрировать все менеджеры автоматизации со `StatusManager`.
- [ ] Реализовать миникарту как отдельный нативный компонент.
