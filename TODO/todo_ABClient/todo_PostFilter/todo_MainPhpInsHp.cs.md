
### 1. План портирования MainPhpInsHp.cs

Файл `MainPhpInsHp.cs` содержит простую вспомогательную функцию для парсинга текущего здоровья (HP) и маны (MA) игрока из HTML-кода страницы.

### 2. Функциональность в C#

- **Назначение:** Извлечь значения HP и MA персонажа и сохранить их в `AppVars`.
- **Логика:**
    1.  Функция получает на вход HTML-код и позицию, с которой начинаются аргументы javascript-функции `ins_HP()` (или переменной `inshp`).
    2.  Извлекает строку с аргументами.
    3.  Разбивает строку на массив по запятой.
    4.  Парсит 5-й аргумент как HP и 6-й аргумент как MA.
    5.  Сохраняет полученные значения в `AppVars.Profile.Pers.IntHP` и `AppVars.Profile.Pers.IntMA`.

### 3. Решение для портирования на Android

Это вспомогательная функция, которая не модифицирует HTML, а только читает из него данные. Ее логика должна быть воспроизведена в соответствующем парсере на стороне Android.

### 4. План реализации

1.  **Создать/дополнить класс `PlayerStateParser` в Android:**
    - Этот класс будет отвечать за извлечение всей информации о состоянии персонажа со страниц.
2.  **Реализовать метод `parseHpMa(html)`:**
    - Метод будет искать в HTML-коде вызов `ins_HP()` или объявление `inshp`.
    - Парсить аргументы и извлекать значения HP и MA.
    - Возвращать объект с данными о HP и MA.
3.  **Интеграция:**
    - Другие компоненты (например, `AutoDrinkManager`) будут вызывать этот метод для получения актуальной информации о HP/MA персонажа.

- [ ] Создать/дополнить класс `PlayerStateParser`.
- [ ] Реализовать в нем метод `parseHpMa(html)`.
- [ ] Использовать этот метод в других компонентах, которым нужна информация о HP/MA.
