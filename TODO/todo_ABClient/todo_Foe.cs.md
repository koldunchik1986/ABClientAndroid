# План портирования Foe.cs

Файл `Foe.cs` определяет класс для представления врага (противника) в игре.

## Функциональность в C#

*   **Назначение**: Моделировать сущность противника, будь то другой игрок, бот или невидимка. Класс включает логику для парсинга данных о враге из строки и проверки их валидности.
*   **Свойства**: `_triba` (раса), `_level` (уровень), `_nevid` (невидимка), `IsValid` (валидность).
*   **Конструкторы**: Позволяют создать объект врага либо из отдельных полей (раса, уровень), либо из одной строки формата `Раса[Уровень]`.
*   **Валидация (`CheckValid()`)**: Содержит большую `switch`-структуру, которая проверяет, является ли уровень врага допустимым для его расы. Например, "Огр" валиден только с 16 по 24 уровень.
*   **Интерфейсы**: 
    *   `IComparable`: Для сортировки врагов (сначала по расе, затем по уровню).
    *   `ICloneable`: Для создания копий объекта.
*   **Переопределенные методы**: `Equals` и `GetHashCode` для корректного сравнения объектов.

## Проверка на существующую реализацию в Android

- **Результат:** Функциональность не реализована. В Android-проекте отсутствует класс `Foe`.

## Решение для портирования на Android

Необходимо создать POJO-класс `Foe.java`, который будет содержать все поля и логику из C#-версии. Особое внимание следует уделить переносу логики `CheckValid()` и реализации стандартных Java-интерфейсов.

## План реализации

- [ ] **Создать файл `Foe.java`** в пакете `ru.neverlands.abclient.model`.

- [ ] **Определить поля класса**:
    - [ ] `private final String triba;`
    - [ ] `private final int level;`
    - [ ] `private final boolean nevid;`
    - [ ] `private boolean isValid;`

- [ ] **Портировать конструкторы**:
    - [ ] Создать конструкторы, принимающие те же параметры, что и в C#.
    - [ ] В конструкторе, принимающем строку, реализовать логику парсинга с помощью `String.indexOf` и `String.substring`.

- [ ] **Портировать метод `checkValid()`**:
    - [ ] Перенести `switch`-структуру в Java. Она будет работать практически без изменений.

- [ ] **Реализовать интерфейсы `Comparable<Foe>` и `Cloneable`**:
    - [ ] `public int compareTo(Foe other)`: Перенести логику сравнения.
    - [ ] `public Object clone()`: Реализовать клонирование.

- [ ] **Переопределить `equals()` и `hashCode()`**:
    - [ ] Написать стандартную для Java реализацию этих методов, повторяющую логику C#-версии.

- [ ] **Обновить `todo_ABClient.md`**, отметив `Foe.cs` как проанализированный.
