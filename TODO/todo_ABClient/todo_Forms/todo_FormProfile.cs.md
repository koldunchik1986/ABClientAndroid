# План портирования FormProfile.cs

Файл `FormProfile.cs` представляет собой форму для создания и редактирования профиля пользователя.

## Функциональность в C#

*   **Назначение**: Предоставить пользователю интерфейс для ввода и изменения данных профиля, таких как учетные данные, настройки прокси и другие параметры.
*   **UI**:
    *   `textUsername`: поле для ввода логина.
    *   `textPassword`: поле для ввода пароля.
    *   `textFlashPassword`: поле для ввода пароля от флешки.
    *   `checkAutoLogon`: флажок для включения/отключения автоматического входа.
    *   `checkUseProxy`: флажок для включения/отключения использования прокси.
    *   `textProxyAddress`, `textProxyUsername`, `textProxyPassword`: поля для настройки параметров прокси.
    *   `linkPasswordProtected`: ссылка для установки/снятия защиты паролем.
    *   `buttonOk`: кнопка для сохранения изменений.
*   **Логика**:
    *   Форма имеет два конструктора: один для создания нового профиля, другой для редактирования существующего (`Config userConfig`).
    *   `CheckAvailability()`: функция, которая проверяет корректность введенных данных и в зависимости от этого включает/выключает элементы управления (например, кнопку "Сохранить").
    *   `DetectProxy()`: определяет системные настройки прокси и подставляет их в соответствующие поля.
    *   `Protect()`: реализует логику шифрования/дешифрования паролей профиля.
    *   При нажатии на `buttonOk` данные из полей формы сохраняются в объект `SelectedUserConfig`.
*   **Данные**: Форма работает с одним объектом `Config`, который представляет собой редактируемый профиль.

## Решение для портирования на Android

Функциональность будет реализована в новой `Activity` под названием `ProfileActivity`.

## План реализации

1.  **Создание `ProfileActivity.java` и `activity_profile.xml`**:
    *   Создать layout-файл `activity_profile.xml`, содержащий все необходимые поля (`EditText`, `CheckBox`, `Button`) для редактирования профиля.
    *   Создать класс `ProfileActivity`, который будет использовать `activity_profile.xml`.

2.  **Реализация логики в `ProfileActivity.java`**:
    *   **Получение данных**: В методе `onCreate` получать данные профиля из `Intent`. Если данные не переданы (создание нового профиля), создавать новый пустой объект `UserConfig`.
    *   **Заполнение полей**: Заполнять поля на форме данными из полученного объекта `UserConfig`.
    *   **Сохранение данных**: 
        *   По нажатию на кнопку "Сохранить" считывать данные из полей, валидировать их (например, имя пользователя не должно быть пустым).
        *   Сохранять данные в объект `UserConfig`.
        *   Вызывать `profile.save(this)` для сохранения профиля в `SharedPreferences`.
        *   Устанавливать результат `RESULT_OK` и закрывать `Activity` (`finish()`).
    *   **Реализация `CheckAvailability()`**: Логику `CheckAvailability` можно реализовать с помощью `TextWatcher`'ов на полях ввода, которые будут включать/выключать кнопку сохранения.
    *   **Прокси и шифрование**: Логику `DetectProxy()` и `Protect()` можно реализовать как отдельные методы в `ProfileActivity` или вынести в утилитные классы.
