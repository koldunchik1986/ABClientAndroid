# План портирования HelperStrings.cs

Файл `HelperStrings.cs` - это статический класс с набором утилит для сложного парсинга строк.

## Функциональность в C#

*   **Назначение**: Предоставить переиспользуемые функции для извлечения данных из строк со сложной или нестандартной структурой, часто встречающейся в HTML/JS коде игры.
*   **Ключевые методы**:
    *   `SubString(string, string, string)`: Извлекает подстроку между двумя маркерами.
    *   `Replace(string, string, string, string)`: Заменяет подстроку между двумя маркерами.
    *   `ParseArguments(string)`: Парсит строку аргументов, разделенных запятыми, с учетом кавычек.
    *   `ParsingUserinfo(string)`: Более специфичная версия парсера аргументов.
    *   `RandomArray(string)`: Разбивает многострочный текст на строки и возвращает их в случайном порядке.
    *   `ParseJsString(string)`: Сложный парсер для извлечения данных из строкового представления JavaScript-массива.

## Проверка на существующую реализацию в Android

- **Результат:** Частично реализовано.
- **Объяснение**:
    1.  В проекте существует класс `app/src/main/java/ru/neverlands/abclient/utils/HelperStrings.java`.
    2.  В нем уже реализованы `subString` и `replace`.
    3.  Метод `parseArguments` также существует, но его логика может содержать ошибку (ищет `"` вместо `'`).
    4.  Отсутствуют методы `ParsingUserinfo`, `RandomArray` и `ParseJsString`.

## Решение для портирования на Android

Необходимо дополнить существующий класс `HelperStrings.java` недостающими методами и проверить/исправить существующие.

## План реализации

- [ ] **Открыть `HelperStrings.java`**.

- [ ] **Проверить и исправить `parseArguments(String str)`**:
    - [ ] Убедиться, что логика работы с кавычками полностью соответствует C#-версии.

- [ ] **Портировать метод `parsingUserinfo(String posu)`**:
    - [ ] Добавить новый статический метод, перенеся логику парсинга из C#.

- [ ] **Портировать метод `randomArray(String source)`**:
    - [ ] Добавить новый статический метод.
    - [ ] Для перемешивания списка использовать `Collections.shuffle()`.

- [ ] **Портировать метод `parseJsString(String str)`**:
    - [ ] Это самый сложный метод. Необходимо аккуратно перенести всю его логику пошагового парсинга JavaScript-массива.

- [ ] **Обновить `todo_MyHelpers.md`**, отметив `HelperStrings.cs` как проанализированный.
