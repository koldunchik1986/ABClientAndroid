# План портирования DataManager.cs

Файл `DataManager.cs` - это простой статический класс для определения путей к данным приложения.

## Функциональность в C#

*   **Назначение**: Централизованно определять и создавать пути к папкам и файлам данных, используемым приложением (например, `map.xml`, папка `temp`).
*   **Реализация**: Использует `Environment.SpecialFolder.CommonApplicationData` для создания папки `ABClient` в системной директории (`C:\ProgramData`) и формирует полные пути к файлам внутри нее.

## Проверка на существующую реализацию в Android

- **Результат:** Функциональность полностью реализована и значительно улучшена.
- **Объяснение**:
    1.  В проекте существует класс `app/src/main/java/ru/neverlands/abclient/utils/DataManager.java`.
    2.  Этот класс использует правильный подход для Android: он работает с внутренним хранилищем приложения (`appContext.getFilesDir()`), что обеспечивает изоляцию данных приложения.
    3.  Он создает необходимые директории (`abcache`, `logs`).
    4.  Он включает критически важную для Android логику `copyAssetsIfNeeded()`, которая копирует предупакованные данные (карты, конфиги) из папки `assets` APK-файла в файловую систему при первом запуске.
    5.  Он предоставляет множество утилитных методов для чтения/записи файлов (`readFileToString`, `writeStringToFile` и т.д.), что делает его полноценным менеджером данных, а не просто определителем путей.

## Решение для портирования на Android

Никаких действий не требуется. Существующая реализация `DataManager.java` является правильной и идиоматичной для Android и полностью заменяет собой логику из C#-версии.

## План реализации

- [x] **Задача решена.** Функциональность уже существует в улучшенном виде.
- [ ] **Обновить `todo_ABClient.md`**, отметив `DataManager.cs` как проанализированный и реализованный (`[+]`).
