
### 1. План портирования HttpHeaders.cs

Файл `HttpHeaders.cs` представляет собой класс-коллекцию для управления списком HTTP-заголовков.

### 2. Функциональность в C#

- **Назначение:** Хранить и управлять набором HTTP-заголовков.
- **Логика:**
    - Внутри используется `ArrayList` для хранения объектов `HttpHeaderItem`.
    - Реализован индексатор `this[string headerName]`, который позволяет получать и устанавливать значения заголовков по имени (без учета регистра). Поиск, установка и удаление производятся путем перебора всего списка, что неэффективно (O(n)).
    - Предоставляет методы для добавления (`Add`), удаления (`Remove`), переименования (`RenameHeaderItems`) и проверки существования (`Exists`, `ExistsAndContains`, `ExistsAndEquals`) заголовков.

### 3. Решение для портирования на Android

Создавать собственную реализацию коллекции заголовков на основе `ArrayList` нецелесообразно. Следует использовать более подходящие и производительные структуры данных.

- **`TreeMap<String, List<String>>`**: Использование `TreeMap` с `String.CASE_INSENSITIVE_ORDER` в качестве компаратора позволит хранить заголовки в отсортированном виде и осуществлять быстрый поиск по имени без учета регистра. `List<String>` нужен, так как один и тот же заголовок может встречаться в запросе несколько раз (например, `Set-Cookie`).
- **Готовые решения:** Библиотеки типа `OkHttp` предоставляют собственный класс `okhttp3.Headers`, который уже реализует всю необходимую логику для работы с заголовками, включая поддержку нескольких значений для одного имени и регистронезависимость.

### 4. План реализации

1.  **Использовать готовую библиотеку:**
    - Если в проекте будет использоваться `OkHttp` (что рекомендуется для сетевых запросов), следует использовать его класс `okhttp3.Headers` для представления коллекций заголовков.
2.  **Если нужна собственная реализация:**
    - Создать класс `HttpHeaders`.
    - Внутри использовать `TreeMap<String, List<String>>(String.CASE_INSENSITIVE_ORDER)`.
    - Реализовать методы `add`, `get`, `set`, `remove` и т.д., которые будут работать с этой `TreeMap`.

- [ ] **(Рекомендуется)** Принять решение об использовании `OkHttp` и его класса `Headers`.
- [ ] Если `OkHttp` не используется, реализовать собственный класс `HttpHeaders` на основе `TreeMap`.
