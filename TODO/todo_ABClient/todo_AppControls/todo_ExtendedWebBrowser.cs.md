# План портирования ExtendedWebBrowser.cs

Файл `ExtendedWebBrowser.cs` - это класс, наследующий `WebBrowser` для добавления новых событий перехвата навигации.

## Функциональность в C#

*   **Назначение**: Дать возможность приложению перехватывать события навигации *до* того, как они произойдут, а также контролировать открытие новых окон (pop-ups).
*   **Реализация**: Очень сложная и низкоуровневая, основанная на `COM Interop`. Класс подписывается на события низкоуровневого ActiveX контрола и транслирует их в управляемые C# события `BeforeNavigate` и `BeforeNewWindow`.

## Проверка на существующую реализацию в Android

- **Результат:** Функциональность полностью реализована с использованием стандартных средств Android.
- **Объяснение**:
    1.  Код из `ExtendedWebBrowser.cs` не может быть портирован, так как он полностью зависит от `COM` и `ActiveX`.
    2.  В Android-приложении используется `WebView`, который предоставляет аналогичную функциональность через свой `WebViewClient`.
    3.  В `MainActivity.java` уже установлен `WebViewClient` для `WebView`, и в нем используется метод `shouldOverrideUrlLoading`. Этот метод является прямым аналогом события `BeforeNavigate`.
    4.  Для перехвата открытия новых окон в `WebViewClient` можно переопределить метод `onCreateWindow`.

## Решение для портирования на Android

Никаких действий не требуется. Задача перехвата навигации уже решена в Android-проекте идиоматичным для этой платформы способом.

## План реализации

- [x] **Задача решена.** Функциональность предоставляется классом `WebViewClient`.
- [ ] **Обновить `todo_AppControls.md`**, отметив `ExtendedWebBrowser.cs` как проанализированный и не требующий портирования (`[+]`).
