
### 1. План портирования LezSpell.cs

Файл `LezSpell.cs` содержит простой класс для описания заклинания (или приема) и статические методы-хелперы для его классификации.

### 2. Функциональность в C#

- **Класс данных:** Хранит `id` и `Name` заклинания.
- **Статические методы:** Содержит набор методов (`IsPhBlock`, `IsMagHit` и т.д.), которые по коду (`id`) определяют тип приема. Эти методы используют жестко закодированные диапазоны чисел ("магические числа"), что является плохой практикой.

### 3. Решение для портирования на Android

При портировании следует избавиться от "магических чисел" и сделать модель данных более описательной и гибкой.

- **Enum для типов:** Вместо проверки диапазонов чисел, следует создать `enum class SpellType`, который будет явно определять тип заклинания (`PHYSICAL_HIT`, `MAGICAL_BLOCK` и т.д.).
- **Расширенная модель данных:** Класс `LezSpell` должен быть расширен, чтобы включать в себя не только `id` и `name`, но и его `type`, а также другие параметры (стоимость ОД, стоимость маны), которые сейчас хранятся в `LezSpellCollection`.
- **Внешний источник данных:** Вся информация о заклинаниях должна быть вынесена из кода в `JSON`-файл.

### 4. План реализации

1.  **Создать `enum class SpellType`:**
    - Создать `enum` со всеми возможными типами заклинаний.
      ```kotlin
      enum class SpellType {
          PHYSICAL_HIT,
          MAGICAL_HIT,
          PHYSICAL_BLOCK,
          MAGICAL_BLOCK,
          SCROLL_HIT,
          RESTORE_HP,
          RESTORE_MANA,
          MISC
      }
      ```
2.  **Создать `data class LezSpell`:**
    - Создать `data class`, который будет содержать всю информацию о заклинании.
      ```kotlin
      data class LezSpell(
          val id: Int,
          val name: String,
          val type: SpellType,
          val odCost: Int,
          val manaCost: Int
      )
      ```
3.  **Создать `lez_spells.json`:**
    - В папке `src/main/assets/` создать JSON-файл, содержащий массив всех заклинаний с их `id`, `name`, `type`, `odCost` и `manaCost`.
4.  **Создать `LezSpellRepository`:**
    - Создать синглтон-репозиторий (`object`), который будет загружать `lez_spells.json` при старте приложения и предоставлять доступ к данным о заклинаниях.
5.  **Рефакторинг логики:**
    - В коде движка (`FightDecisionEngine`) проверки вида `LezSpell.IsPhBlock(code)` будут заменены на `spell.type == SpellType.PHYSICAL_BLOCK`, что гораздо чище и надежнее.

- [ ] Создать `enum class SpellType`.
- [ ] Создать `data class LezSpell`.
- [ ] Создать `lez_spells.json` в `assets`.
- [ ] Создать `LezSpellRepository` для загрузки данных.
