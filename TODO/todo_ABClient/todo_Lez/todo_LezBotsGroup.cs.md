
### 1. План портирования LezBotsGroup.cs

Файл `LezBotsGroup.cs` — это основной класс-модель, который хранит все правила и настройки для одной "группы" автобоя. Группа определяется типом бота и его минимальным уровнем.

### 2. Функциональность в C#

- **Назначение:** Хранить полную конфигурацию правил для определенного сценария боя.
- **Атрибуты:**
    - `[Serializable]`: Позволяет сохранять объект (например, в файл профиля).
    - `ICloneable`: Поддерживает клонирование, что важно для редактирования настроек с возможностью отмены.
    - `IComparable`: Позволяет сортировать список групп.
- **Поля:**
    - `Id`, `MinimalLevel`: Идентификатор группы (класс бота и его уровень).
    - Множество `bool` и `int` полей: `DoRestoreHp`, `RestoreHp`, `DoAbilBlocks` и т.д. Эти поля напрямую соответствуют элементам управления на форме настроек.
    - `int[] SpellsHits`, `SpellsBlocks`, и т.д.: Массивы ID заклинаний, которые нужно использовать в бою.
- **Методы:**
    - `ToString()`: Формирует понятное имя для отображения в UI (например, "Крысы 5+").
    - `Clone()`: Выполняет глубокое копирование объекта.

### 3. Решение для портирования на Android

Этот класс является чистой моделью данных и должен быть преобразован в `data class` в Kotlin.

- **Архитектура:** Этот `data class` будет центральным объектом в `SettingsAbViewModel` и будет использоваться для заполнения UI настроек и сохранения изменений.
- **Сериализация:** Список таких объектов (`List<LezBotsGroup>`) будет сериализован в JSON с помощью `Gson` или `Moshi` и сохранен как одна строка в `SharedPreferences`.

### 4. План реализации

1.  **Создать `data class LezBotsGroup`:**
    - Создать файл `LezBotsGroup.kt`.
    - Объявить `data class` со всеми соответствующими полями. Массивы `int[]` следует заменить на `List<Int>`.
      ```kotlin
      data class LezBotsGroup(
          var id: Int,
          var minimalLevel: Int,
          var doRestoreHp: Boolean = true,
          var restoreHp: Int = 50,
          // ... все остальные свойства
          var spellsHits: List<Int> = emptyList(),
          var spellsBlocks: List<Int> = emptyList()
          // ... все остальные списки заклинаний
      )
      ```
2.  **Реализовать `Comparable`:**
    - Класс должен реализовывать `Comparable<LezBotsGroup>` для обеспечения сортировки, как в оригинале.
3.  **Обработка клонирования:**
    - Встроенный метод `copy()` в `data class` выполняет поверхностное копирование. При редактировании объекта нужно будет создавать глубокую копию, особенно для списков заклинаний.
      ```kotlin
      val originalGroup = // ...
      val editableGroup = originalGroup.copy(
          spellsHits = originalGroup.spellsHits.toMutableList()
          // ... и другие списки
      )
      ```
4.  **Интеграция:**
    - Этот класс будет использоваться в `SettingsAbViewModel` для хранения состояния и в `RecyclerView.Adapter` для отображения списка групп.

- [ ] Создать `data class LezBotsGroup` в Kotlin.
- [ ] Реализовать интерфейс `Comparable` для сортировки.
- [ ] Обеспечить механизм глубокого копирования при редактировании.
