# План портирования AppTimer.cs

Файл `AppTimer.cs` определяет класс-модель данных для одного запланированного события или таймера.

## Функциональность в C#

*   **Назначение**: Служит в качестве контейнера данных для таймера. Этот класс не содержит логики самого таймера, а только хранит его свойства и предоставляет текстовое представление.
*   **Свойства (Properties)**:
    *   `TriggerTime`: `DateTime` - Время срабатывания.
    *   `Description`: `string` - Описание события.
    *   `Potion`: `string` - Название зелья для использования.
    *   `DrinkCount`: `int` - Количество зелий.
    *   `IsRecur`: `bool` - Является ли таймер повторяющимся.
    *   `EveryMinutes`: `int` - Интервал повторения в минутах.
    *   `Destination`: `string` - Локация для навигации.
    *   `Complect`: `string` - Название комплекта для надевания.
    *   `Id`: `int` - Уникальный идентификатор.
    *   `IsHerb`: `bool` - Флаг, указывающий на таймер сбора трав.
*   **Метод `ToString()`**: Генерирует отформатированную строку, которая отображает оставшееся время, описание и другую информацию о таймере. Содержит специальную логику для вычисления времени для таймеров сбора трав.

## Проверка на существующую реализацию в Android

- **Результат:** Функциональность не реализована. В Android-проекте отсутствует класс, представляющий модель данных для таймера с таким набором полей.

## Решение для портирования на Android

Необходимо создать POJO (Plain Old Java Object) класс `AppTimer.java`, который будет содержать все поля из C#-версии. Типы данных должны быть адаптированы для Java.

## План реализации

- [ ] **Создать файл `AppTimer.java`** в подходящем пакете (например, `ru.neverlands.abclient.model`).

- [ ] **Определить поля класса**:
    - [ ] `public long triggerTime;` (использовать `long` для хранения `System.currentTimeMillis()` вместо `DateTime`).
    - [ ] `public String description;`
    - [ ] `public String potion;`
    - [ ] `public int drinkCount;`
    - [ ] `public boolean isRecur;`
    - [ ] `public int everyMinutes;`
    - [ ] `public String destination;`
    - [ ] `public String complect;`
    - [ ] `public int id;`
    - [ ] `public boolean isHerb;`

- [ ] **Создать конструктор** для инициализации полей.

- [ ] **Портировать метод `toString()`**:
    - [ ] Создать `public String toString()`.
    - [ ] Логику работы с `DateTime` и `TimeSpan` из C# необходимо заменить на аналогичную логику с использованием `System.currentTimeMillis()` и класса `java.util.concurrent.TimeUnit` для вычисления разницы во времени (часов, минут, секунд).
    - [ ] Использовать `String.format()` для форматирования строки, аналогично `sb.AppendFormat`.

- [ ] **Обновить `todo_ABClient.md`**, отметив `AppTimer.cs` как проанализированный.
