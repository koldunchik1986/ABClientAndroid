# Отладка отображения списка персонажей в комнате

## Проблема

Список персонажей в комнате не отображается ни при первом, ни при последующих запусках приложения. Это регрессия по сравнению с предыдущим состоянием, когда список отображался при первом запуске.

## Анализ

Существует две конфликтующие системы для обработки списка персонажей:

1.  **`RoomManager.startTracing`**: Эта система использует фоновый опрос для получения данных о персонажах. Она не работает, так как делает HTTP-запросы без сессионных cookie, что приводит к `FileNotFoundException`.
2.  **`Filter.java` -> `ChListJs.java`**: Эта система перехватывает `ch.php?lo=1` и внедряет `ChatListU` в `ch_list.js`. Она не работает, так как `ch_list.js` не может быть выполнен в изолированном `WebView` из-за зависимостей от глобальных объектов, таких как `top`.

## План решения

1.  **[ ]** Полностью отказаться от фонового опроса в `RoomManager.java`.
2.  **[ ]** Преобразовать `RoomManager.java` во вспомогательный класс, оставив только методы для парсинга и генерации HTML.
3.  **[ ]** Использовать новый класс `ChRoomPhp.java` для обработки `ch.php?lo=1`. Этот класс будет генерировать HTML-список персонажей на стороне Java.
4.  **[ ]** Упростить `ChListJs.java`, чтобы он только возвращал `ch_list.js` из `assets`.
5.  **[ ]** Удалить вызов `RoomManager.startTracing()` из `MainActivity.java`.