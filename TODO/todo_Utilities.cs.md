# План портирования Utilities.cs

Файл `Utilities.cs` представляет собой набор статических утилитных методов для низкоуровневой работы с HTTP-протоколом в рамках кастомного прокси-сервера.

## Функциональность в C#

*   **Декомпрессия**: Методы `GzipExpand` и `DeflateExpand` для ручной распаковки сжатого контента.
*   **Обработка `chunked`**: Методы `DoUnchunk` и `IsChunkedBodyComplete` для ручной сборки ответов с `Transfer-Encoding: chunked`.
*   **Парсинг URL**: Методы `CrackHostAndPort` и `IPEndPointFromHostPortString` для разбора строк с хостом и портом.

## Решение для портирования на Android

**Портировать этот класс не нужно.**

Вся без исключения функциональность этого класса является стандартной для современных HTTP-библиотек и системных классов Android.

*   **Декомпрессия и `chunked`**: Библиотека `OkHttp` обрабатывает `Content-Encoding` (gzip, deflate) и `Transfer-Encoding` (chunked) **полностью автоматически и прозрачно для разработчика**. Вам не нужно писать ни одной строчки кода для этого — вы просто получаете готовое, "чистое" тело ответа.

*   **Парсинг URL**: Для работы с URL в Android следует использовать системный класс `android.net.Uri` или специфичный для `OkHttp` класс `okhttp3.HttpUrl`. Они предоставляют удобные и безопасные методы для получения хоста, порта, пути и параметров.

    ```java
    // Пример с android.net.Uri
    Uri uri = Uri.parse("http://www.example.com:8080/path?query=1");
    String host = uri.getHost(); // "www.example.com"
    int port = uri.getPort(); // 8080
    String path = uri.getPath(); // "/path"
    ```

## План реализации (вместо портирования)

Никаких действий не требуется. При использовании `OkHttp` и `Uri` вся логика из `Utilities.cs` становится ненужной, так как она встроена в эти компоненты по умолчанию.
