# План портирования OutpostJs.cs

Файл `OutpostJs.cs` является частью `PostFilter` и предназначен для обработки JavaScript-файла `/js/outpost.js`.

## Функциональность в C#

Фильтр выполняет одно простое действие: он берет содержимое файла-ресурса `json2.js` и добавляет его в самое начало скачиваемого скрипта `outpost.js`.

**Назначение:**

Эта логика полностью идентична `CastleJs.cs`. Библиотека `json2.js` является полифилом, который добавляет поддержку `JSON.parse()` и `JSON.stringify()` в старые браузеры (Internet Explorer), где эта функциональность отсутствует. Это было необходимо, так как скрипт `outpost.js`, по-видимому, использует функции для работы с JSON.

## Решение для портирования в Android

Современный компонент `WebView` в Android основан на Chromium и **полностью поддерживает** нативный объект `JSON`. Добавление сторонней библиотеки `json2.js` не требуется.

**Вывод: портировать логику этого фильтра не нужно.**

## План действий

Чтобы отметить этот фильтр как обработанный, необходимо создать "заглушку".

1.  **Создать `OutpostJs.java`**: В пакете `ru.neverlands.abclient.postfilter`.
2.  **Реализовать метод `process`**:
    *   Метод будет принимать `byte[] array`.
    *   Он будет **просто возвращать `array` без каких-либо изменений**.
    *   В комментарии к методу будет указано, что добавление `json2.js` в Android не требуется.
3.  **Интегрировать в `Filter.java`**: Добавить вызов `OutpostJs.process(array)` в соответствующий блок.
