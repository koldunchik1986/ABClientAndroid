# Инструкция: Утилиты для кодировки (Russian)

## 1. Назначение

`Russian` — это критически важный утилитарный класс, предназначенный для решения одной, но очень важной задачи: корректного преобразования текста между стандартной для Java кодировкой (UTF-16) и специфической кодировкой игрового сервера (`windows-1251`).

Поскольку все текстовые данные с сервера приходят в `windows-1251`, прямое преобразование массива байт в строку стандартными средствами Java (`new String(bytes)`) привело бы к искажению всех кириллических символов (так называемым "кракозябрам"). Этот класс централизует правильную конвертацию, обеспечивая корректное отображение русского текста во всем приложении.

## 2. Ключевые компоненты

**Поле:** `private static final Charset WINDOWS_1251 = Charset.forName("windows-1251");`
-   Это статическое поле один раз при загрузке класса создает и кэширует объект `Charset` для кодировки `windows-1251`. Это эффективнее, чем искать кодировку по имени при каждом вызове.

## 3. Методы

### `public static String getString(byte[] bytes)`
-   **Назначение:** Преобразует массив байт, полученный от сервера, в читаемую Java-строку.
-   **Алгоритм:**
    1.  Проверяет, не является ли входной массив `null`. Если да, возвращает пустую строку, чтобы избежать `NullPointerException`.
    2.  Создает новую строку из массива байт, явно указывая конструктору использовать кэшированный `Charset` `WINDOWS_1251`.

### `public static byte[] getBytes(String string)`
-   **Назначение:** Выполняет обратное преобразование — кодирует Java-строку в массив байт в кодировке `windows-1251`.
-   **Применение:** Используется, когда нужно отправить на сервер данные, содержащие кириллицу (например, сообщения в чат или POST-запросы).
-   **Алгоритм:**
    1.  Проверяет, не является ли входная строка `null`. Если да, возвращает пустой массив байт.
    2.  Вызывает у строки метод `getBytes()`, передавая ему `Charset` `WINDOWS_1251`.
