# Портирование `MapActAjaxPhp.cs` в `MapActAjaxPhp.java`

## Анализ `MapActAjaxPhp.cs` (ПК версия)

Файл `MapActAjaxPhp.cs` в оригинальном C# клиенте отвечает за обработку содержимого, загружаемого из `gameplay/ajax/map_act_ajax.php`.

**Ключевая особенность:** Метод `MapActAjaxPhp(byte[] array)` в C# версии **не выполняет никаких модификаций** содержимого. Он преобразует входной массив байт в строку (`var html = AppVars.Codepage.GetString(array);`), но затем сразу же возвращает исходный массив байт (`return array;`). Это означает, что данный фильтр, по сути, является "пустым" и не изменяет данные.

## Портирование в `MapActAjaxPhp.java` (Android версия)

Логика из `MapActAjaxPhp.cs` была перенесена в статический метод `process` класса `MapActAjaxPhp.java` в пакете `ru.neverlands.abclient.postfilter`.

### Особенности реализации в Java:

*   **Кодировка:** Для преобразования массива байт в строку используется `Russian.Codepage.getString()`, обеспечивая корректную работу с кодировкой `windows-1251`.
*   **Отсутствие модификаций:** В соответствии с поведением оригинальной C# версии, метод `process` в `MapActAjaxPhp.java` также не выполняет никаких модификаций содержимого. Он просто возвращает исходный массив байт.
*   **Комментарии:** В `MapActAjaxPhp.java` добавлены комментарии, объясняющие отсутствие активной логики, что соответствует поведению C# версии.

### Интеграция с `Filter.java`:

Метод `processMapActAjaxPhp` в `ru.neverlands.abclient.postfilter.Filter.java` был изменен для вызова `MapActAjaxPhp.process(array)`, что позволяет централизованному фильтру делегировать обработку `map_act_ajax.php` специализированному классу, даже если на данный момент он не выполняет активных преобразований.

## Вывод

Портирование `MapActAjaxPhp.cs` в `MapActAjaxPhp.java` завершено. Хотя на данный момент этот фильтр не вносит активных изменений в контент, его интеграция поддерживает общую архитектуру фильтрации и оставляет возможность для будущей реализации логики, если она появится в оригинальной C# версии.
